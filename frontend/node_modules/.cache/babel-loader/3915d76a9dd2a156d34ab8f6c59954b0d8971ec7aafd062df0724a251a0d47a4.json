{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pandi\\\\Code-Battle\\\\frontend\\\\src\\\\pages\\\\Lobby.js\",\n  _s = $RefreshSig$();\n// src/pages/Lobby.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Lobby() {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [newRoomId, setNewRoomId] = useState(\"\");\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchRooms();\n    // optionally poll periodically or use websockets to get live room updates\n  }, []);\n  const fetchRooms = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/api/rooms\");\n      const data = await res.json();\n      setRooms(data || []);\n    } catch (err) {\n      console.error(\"Fetch rooms error:\", err);\n    }\n  };\n  const createRoom = async () => {\n    if (!newRoomId) return alert(\"Enter room id (e.g., abc123)\");\n    try {\n      const res = await fetch(\"http://localhost:5000/api/rooms\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id: newRoomId,\n          name: newRoomName\n        })\n      });\n      if (!res.ok) {\n        const err = await res.json();\n        return alert(\"Error creating room: \" + (err.error || res.status));\n      }\n      setNewRoomId(\"\");\n      setNewRoomName(\"\");\n      await fetchRooms();\n    } catch (err) {\n      console.error(err);\n      alert(\"Create room failed\");\n    }\n  };\n  const joinRoom = roomId => {\n    if (!username) return alert(\"Enter a username to join\");\n    // navigate to /room/:roomId and pass username via state\n    navigate(`/room/${roomId}`, {\n      state: {\n        username\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: \"24px auto\",\n      padding: \"0 12px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"CodeBattle Arena \\u2014 Lobby\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: \"block\",\n          marginBottom: 6\n        },\n        children: \"Your name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        placeholder: \"e.g., srujan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Room id (unique string)\",\n        value: newRoomId,\n        onChange: e => setNewRoomId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Room name (optional)\",\n        value: newRoomName,\n        onChange: e => setNewRoomName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: createRoom,\n        children: \"Create Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Available Rooms\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [rooms.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No rooms yet. Create one!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 32\n      }, this), rooms.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          border: \"1px solid #ddd\",\n          padding: 8,\n          marginBottom: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: r.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"(\", r.id, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              opacity: 0.8\n            },\n            children: [r.playersCount, \" players\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => joinRoom(r.id),\n            children: \"Join\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, r.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Lobby, \"4zfrsyWIevv5hUpLtamIt1Db/HQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Lobby;\nexport default Lobby;\nvar _c;\n$RefreshReg$(_c, \"Lobby\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Lobby","_s","rooms","setRooms","newRoomId","setNewRoomId","newRoomName","setNewRoomName","username","setUsername","navigate","fetchRooms","res","fetch","data","json","err","console","error","createRoom","alert","method","headers","body","JSON","stringify","id","name","ok","status","joinRoom","roomId","state","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","value","onChange","e","target","placeholder","gap","onClick","length","map","r","justifyContent","border","fontSize","opacity","playersCount","_c","$RefreshReg$"],"sources":["C:/Users/pandi/Code-Battle/frontend/src/pages/Lobby.js"],"sourcesContent":["// src/pages/Lobby.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Lobby() {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [newRoomId, setNewRoomId] = useState(\"\");\r\n  const [newRoomName, setNewRoomName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchRooms();\r\n    // optionally poll periodically or use websockets to get live room updates\r\n  }, []);\r\n\r\n  const fetchRooms = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/rooms\");\r\n      const data = await res.json();\r\n      setRooms(data || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch rooms error:\", err);\r\n    }\r\n  };\r\n\r\n  const createRoom = async () => {\r\n    if (!newRoomId) return alert(\"Enter room id (e.g., abc123)\");\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/rooms\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id: newRoomId, name: newRoomName }),\r\n      });\r\n      if (!res.ok) {\r\n        const err = await res.json();\r\n        return alert(\"Error creating room: \" + (err.error || res.status));\r\n      }\r\n      setNewRoomId(\"\");\r\n      setNewRoomName(\"\");\r\n      await fetchRooms();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Create room failed\");\r\n    }\r\n  };\r\n\r\n  const joinRoom = (roomId) => {\r\n    if (!username) return alert(\"Enter a username to join\");\r\n    // navigate to /room/:roomId and pass username via state\r\n    navigate(`/room/${roomId}`, { state: { username } });\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: \"24px auto\", padding: \"0 12px\" }}>\r\n      <h1>CodeBattle Arena â€” Lobby</h1>\r\n\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label style={{ display: \"block\", marginBottom: 6 }}>Your name</label>\r\n        <input value={username} onChange={(e) => setUsername(e.target.value)} placeholder=\"e.g., srujan\" />\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 12 }}>\r\n        <input placeholder=\"Room id (unique string)\" value={newRoomId} onChange={(e)=>setNewRoomId(e.target.value)} />\r\n        <input placeholder=\"Room name (optional)\" value={newRoomName} onChange={(e)=>setNewRoomName(e.target.value)} />\r\n        <button onClick={createRoom}>Create Room</button>\r\n      </div>\r\n\r\n      <h3>Available Rooms</h3>\r\n      <div>\r\n        {rooms.length === 0 && <div>No rooms yet. Create one!</div>}\r\n        {rooms.map(r => (\r\n          <div key={r.id} style={{ display: \"flex\", justifyContent: \"space-between\", border: \"1px solid #ddd\", padding: 8, marginBottom: 6 }}>\r\n            <div>\r\n              <strong>{r.name}</strong> <small>({r.id})</small>\r\n              <div style={{ fontSize: 12, opacity: 0.8 }}>{r.playersCount} players</div>\r\n            </div>\r\n            <div>\r\n              <button onClick={() => joinRoom(r.id)}>Join</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Lobby;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}